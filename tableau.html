<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style/tableau.css" />
    <title>Harvey Jensen</title>
  </head>
  <body>
    <div class="top">
      <div class="dropdownBackground">
        <div class="arrow"></div>
      </div>
      <a class="home" href="index.html">Home</a>
      <div class="cool">
        <a href="#">Information</a>
        <div class="dropdown">
          <div class="bio">
            <p>
              As an application for a course delivered by the Information Lab, I
              created a Data Visualisation dashbord on Tableau which display a
              range of statistics on the ongoing Coronavirus pandemic, I chose
              this topic for my visualisation because I was keen to obtain an
              worldwide picture of the spread of Covid and visually inspect data
              which has been analysed less such cases and deaths per capita.
              This project allowed me to teach myself the new software- Tableau-
              and at the same time, create clear timeline of the pandemic
              globally.
            </p>
          </div>
        </div>
      </div>

      <div class="title">Tableau Covid analysis</div>
    </div>
    <!-- prettier-ignore -->
    <div class="tableauPlaceholder" id="viz1613129136367">
  
        <object class="tableauViz" >
            <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
            <param name="embed_code_version" value="3" />
            <param name="site_root" value="" />
            <param name="name" value="CoronavirusStatistics6&#47;HarveyJensen" />
            <param name="tabs" value="no" />
            <param name="toolbar" value="yes" />
            <param name="static_image" value="https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CoronavirusStatistics6&#47;HarveyJensen&#47;1.png"/>
            <param name="animate_transition" value="yes" />
            <param name="display_static_image" value="yes" />
            <param name="display_spinner" value="yes" />
            <param name="display_overlay" value="yes" />
            <param name="display_count" value="yes" />
            <param name="language" value="en" />
        </object>
    </div>
    <script type="text/javascript">
      var body = document.querySelector("body");
      var divElement = document.getElementById("viz1613129136367");
      var vizElement = document.getElementsByTagName("object")[0];

      // console.log(`${document.body.offsetWidth}px`);
      vizElement.style.width = `${document.body.offsetWidth + 20}px`;
      divElement.style.webkitTransform = "scale(0.96)";
      // vizElement.style.webkitScrollbar = "none";
      vizElement.style.height = "795px";

      var scriptElement = document.createElement("script");
      scriptElement.src =
        "https://public.tableau.com/javascripts/api/viz_v1.js";
      vizElement.parentNode.insertBefore(scriptElement, vizElement);

      //OPENING AND CLOSING NAV BAR

      const trigger = document.querySelector(".cool");
      const link = trigger.querySelector("a");
      const background = document.querySelector(".dropdownBackground");
      const text = document.querySelector(".bio");
      const nav = document.querySelector(".top");

      function handleEnter() {
        trigger.classList.add("trigger-enter");
        setTimeout(
          () =>
            trigger.classList.contains("trigger-enter") &&
            trigger.classList.add("trigger-enter-active"),
          150
        );
        background.classList.add("open");

        divElement.style.setProperty("opacity", "0.1");
        const dropdown = trigger.querySelector(".dropdown");
        const dropdownCoords = dropdown.getBoundingClientRect();
        const navCoords = nav.getBoundingClientRect();

        const coords = {
          height: dropdownCoords.height,
          width: dropdownCoords.width,
          top: dropdownCoords.top - navCoords.top,
          left: dropdownCoords.left - navCoords.left,
        };
        background.style.setProperty("width", `${coords.width}px`);
        background.style.setProperty("height", `${coords.height}px`);

       background.style.setProperty(
          "transform", document.body.offsetWidth>1100?
          `translate(${coords.left-50}px, ${coords.top-10}px)`:`translate(${coords.left}px, ${coords.top}px)`
       );
      }

      function handleLeave() {
        trigger.classList.remove("trigger-enter", "trigger-enter-active");
        background.classList.remove("open");
        divElement.style.removeProperty("opacity");
      }

      link.addEventListener("mouseenter", handleEnter);
      link.addEventListener("mouseleave", handleLeave);
    </script>
  </body>
</html>
